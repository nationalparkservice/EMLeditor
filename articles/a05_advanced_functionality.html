<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Advanced Functionality • EMLeditor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Advanced Functionality">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EMLeditor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a01_prereqs.html">Pre-Requisites</a></li>
    <li><a class="dropdown-item" href="../articles/a02_EML_creation_script.html">EML Creation Script</a></li>
    <li><a class="dropdown-item" href="../articles/a03_Template_edits.html">Editing .txt Files</a></li>
    <li><a class="dropdown-item" href="../articles/a04_Editing_fixing_eml.html">Editing or fixing EML Files</a></li>
    <li><a class="dropdown-item" href="../articles/a05_advanced_functionality.html">Advanced Functionality</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nationalparkservice/EMLeditor/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Advanced Functionality</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nationalparkservice/EMLeditor/blob/main/vignettes/a05_advanced_functionality.Rmd" class="external-link"><code>vignettes/a05_advanced_functionality.Rmd</code></a></small>
      <div class="d-none name"><code>a05_advanced_functionality.Rmd</code></div>
    </div>

    
    
<p>The default settings on EMLeditor functions are designed to make the
user experience as simple and transparent as possible. This means
EMLeditor does a lot of things behind the scenes (such as automatically
inserts the version of EMLeditor your used into metadata, automatically
inserts publisher information, and assumes that the data package is
created “by or for” the NPS). Advanced users may want to disable some of
these settings or take advantage of advanced functionality.</p>
<div class="section level2">
<h2 id="test-functions-on-irmadev">Test functions on irmadev<a class="anchor" aria-label="anchor" href="#test-functions-on-irmadev"></a>
</h2>
<p>Several of the EMLeditor functions allow you to write to DataStore
(<code><a href="../reference/set_datastore_doi.html">set_datastore_doi()</a></code>, <code><a href="../reference/upload_data_package.html">upload_data_package()</a></code>,
etc). By default these functions will write to the production (i.e
“public”) version of DataStore. However, if you want to test your
scripts, you can set these functions to write to the development version
of DataStore (irmadev):</p>
<p>Test putting a draft reference on irmadev:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/set_datastore_doi.html">set_datastore_doi</a></span><span class="op">(</span><span class="va">metadata</span>, dev <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Test uploading your data package to irmadev:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/upload_data_package.html">upload_data_package</a></span><span class="op">(</span>dev <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note that you must be signed in to the VPN to be able to view your
reference and uploaded files on irmadev.</p>
</div>
<div class="section level2">
<h2 id="scripting-with-emleditor">Scripting with EMLeditor<a class="anchor" aria-label="anchor" href="#scripting-with-emleditor"></a>
</h2>
<p>The interactive feedback and prompts provided by EMLeditor functions
can be turned off to enable efficient scripting. All “set_” class
functions have a parameter, force that defaults to force = FALSE. To
turn off the feedback and prompts, set force = TRUE when calling each
function. Be careful using the functions in this way as they may - or
may not - make changes to your metadata and you will not be advised of
any change or lack of change. Inspect your final product carefully.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_title.html">set_title</a></span><span class="op">(</span><span class="va">metadata</span>, <span class="st">"My new title"</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="custom-publisherproducer">Custom Publisher/Producer<a class="anchor" aria-label="anchor" href="#custom-publisherproducer"></a>
</h2>
<p>EMLeditor functions are designed primarily for use by staff at the
National Park Service for publication of data packages to DataStore.
Consequently, all “set_” class functions silently perform two operations
by default:</p>
<ol style="list-style-type: decimal">
<li>They set the publisher to the National Park Service (and the
location to the Fort Collins office)</li>
<li>They specify the agency that created the data package as NPS and set
a field “by or for NPS” to TRUE</li>
</ol>
<p>You can prevent set_class functions from performing these operations
by changing the default status of the parameter NPS = TRUE to NPS =
FALSE. This will leave your publisher information untouched and will not
create an additionalMetadata item for the agency that created the data
package.</p>
<p>If you would like to set the publisher to something other than the
Fort Collins Office of the National Park Service or your would like to
set the agency that created the data package to something other than
NPS, use the <code><a href="../reference/set_publisher.html">set_publisher()</a></code> function. Be sure to specify
<code>NPS = FALSE</code> or the function will perform the default
operations (set publisher to NPS at the Fort Collins Office and set the
agency to NPS).</p>
<p>Warning: <code><a href="../reference/set_publisher.html">set_publisher()</a></code> should only be used in a few,
likely rare, circumstances:</p>
<ol style="list-style-type: decimal">
<li>If the publisher Is NOT the National Park Service</li>
<li>If the contact address for the publisher is NOT the central office
in Fort Collins (all data packages uploaded to DataStore will be
published by the Fort Collins Office of NPS)</li>
<li>If the originating agency is NOT the NPS (i.e. a contractor or
partner organization)</li>
<li>If the data package is NOT created for or by the NPS</li>
</ol>
<p>It’s probably a good idea to take a look at all the arguments you
need to supply to the <code><a href="../reference/set_publisher.html">set_publisher()</a></code> function prior to
using it:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/args.html" class="external-link">args</a></span><span class="op">(</span><span class="va">set_publisher</span><span class="op">)</span></span>
<span><span class="co">#function (eml_object, org_name = "NPS", street_address, </span></span>
<span><span class="co">#    city, state, zip_code, country, URL, email, ror_id, for_or_by_NPS = TRUE, </span></span>
<span><span class="co">#    force = FALSE, NPS = FALSE) </span></span></code></pre></div>
<p>You can then add any custom publisher you would like:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_publisher.html">set_publisher</a></span><span class="op">(</span><span class="va">metadata</span>, org_name <span class="op">=</span> <span class="st">"Broadleaf"</span>,</span>
<span>                          street_address <span class="op">=</span> <span class="st">"1234 Strasse St."</span>,</span>
<span>                          city <span class="op">=</span> <span class="st">"Metropolis"</span>,</span>
<span>                          State <span class="op">=</span> <span class="st">"Denial"</span>,</span>
<span>                          zip_code <span class="op">=</span> <span class="st">"12345"</span>,</span>
<span>                          country <span class="op">=</span> <span class="st">"The Wild, Wild West"</span>,</span>
<span>                          URL <span class="op">=</span> <span class="st">"https://error404.com"</span>, </span>
<span>                          email <span class="op">=</span> <span class="st">"gesundheit@krankenhaus.de"</span>,</span>
<span>                          ror_id <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>                          for_or_by_NPS <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                          force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                          NPS <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>If you use any “set_” class functions in their default settings after
setting your custom publisher, they will overwrite your custom
publisher! Make sure to include the parameter <code>NPS = FALSE</code>
if you invoke any additional “set_” functions:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_additional_info.html">set_additional_info</a></span><span class="op">(</span><span class="va">metadata</span>,</span>
<span>                                <span class="st">"Info for the Notes section on DataStore"</span>,</span>
<span>                                NPS <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="view-all-functions">View all functions<a class="anchor" aria-label="anchor" href="#view-all-functions"></a>
</h2>
<p>A comprehensive list of all available EMLeditor functions can be
found via the <a href="../reference/index.html">Reference</a> tab at the
top of the web page. Click on each function to read the associated
documentation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Baker, Judd Patterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
